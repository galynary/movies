const e=document.querySelector(".js-list"),t=(document.querySelector(".js-load"),document.querySelector(".js-guard"));let n=1,o=new IntersectionObserver((function(o,c){o.forEach((o=>{o.isIntersecting&&(n+=1,r(n).then((n=>{e.insertAdjacentHTML("beforeend",s(n.results)),n.page!==n.total_pages&&c.unobserve(t)})).catch((e=>console.log(e))))}))}),{root:null,rootMargin:"300px",threshold:1});function r(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=e7b77a04616bbe4184f610c6f41bfdf9&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function s(e){return e.map((({poster_path:e,title:t})=>`<li>\n        <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t}">\n        <h2>${t}</h2>\n      </li>`)).join("")}r().then((n=>{e.insertAdjacentHTML("beforeend",s(n.results)),o.observe(t)})).catch((e=>console.log(e)));
//# sourceMappingURL=index.85fb3071.js.map
